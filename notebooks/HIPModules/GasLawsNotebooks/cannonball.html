<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/p5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/addons/p5.dom.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/addons/p5.sound.min.js"></script>
<style>
    * {
      margin: 0;
      padding: 0;
    }
</style>
<script>
    
    
    var gunPowder;
    var cannonBalls;
    
    function setup() { 
      createCanvas(1000, 400);
        
      gunPowder = createSlider(1, 5, 1);
      gunPowder.position(20, 20);
        
      cannonBalls = createSlider(1, 2, 1);
      cannonBalls.position(20, 40);
    } 
    
    var x=5;
    var y=400;
    var xspeed=1;
    var yspeed=1;
    const acc = 0.2;
    
    
    function draw() {
        background(135, 206, 250);
        noStroke();
        
        fill(50, 150, 100);
        rect(0, 350, 1000, 50);
        
        
        for (var i = 0; i < 70; i += 10) {
            fill(57, 2, 2);
            rect((i*15)+12, 250, 20, 100)
            fill(50, 150, 100);
            //level1
            ellipse((i+3)*15, 250, 50, 50);
            ellipse(i*15, 250, 50, 50);
            //level2
            ellipse((i-1)*15, 220, 50, 50);
            ellipse((i+1.5)*15, 220, 50, 50);
            ellipse((i+4)*15, 220, 50, 50);
            //level3
            ellipse((i+3)*15, 190, 50, 50);
            ellipse(i*15, 190, 50, 50);
        }

        fill(0, 0, 0);
        
        text("Gunpowder = " + gunPowder.value() + " lb", gunPowder.x * 2 + gunPowder.width, 30);
        if (cannonBalls.value() == 1) {
            text("Cannonballs = " + cannonBalls.value(), cannonBalls.x * 2 + cannonBalls.width, 50);
        }
        if (cannonBalls.value() == 2) {
            text("Cannonballs = INFINITY", cannonBalls.x * 2 + cannonBalls.width, 50);
        }
        
        fill(0);
        
        
 
        if (cannonBalls.value() == 1) {
            ellipse(x, y, 50, 50);
        }
        if (cannonBalls.value() == 2) {
            ellipse(x, y, 50, 50);
            
            
            
            if (y > 400) {
                x=5;
                y=400;
                ellipse(x, y, 50, 50);
                xspeed=gunPowder.value()+4.5;
                yspeed=gunPowder.value()+4.5;
            }
        }
        
        x+=xspeed;
        y-=yspeed;
        yspeed-=acc;
        
        
        push();
        rotate(radians(50));
        fill(105,105,105);
        rect(270, 180, 80, 100);
        pop();
        
    }
    
    function mouseClicked() {
        x=5;
        y=400;
        xspeed=gunPowder.value()+4.5;
        yspeed=gunPowder.value()+4.5;
        if (gunPowder.value() == 0) {
            text("Cannonballs = infinity", cannonBalls.x * 2 + cannonBalls.width, 50);
            xSpeed = 0;
            ySpeed = 0;
        }
    }

    
</script>